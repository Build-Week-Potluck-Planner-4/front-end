(this.webpackJsonppotluck=this.webpackJsonppotluck||[]).push([[0],{221:function(e,t,c){},222:function(e,t,c){},223:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(39),o=c.n(a),s=c(5),i=c(7),r=c(30),l=c(86),u=c(87),j=c.n(u),d=c(4),b=c(0);var p=Object(i.b)((function(e){return{isLogin:e.login.isLogin}}))((function(e){var t=e.isLogin,c=localStorage.getItem("username");return Object(b.jsx)("div",{className:"navbar-container",children:Object(b.jsx)("div",{children:Object(b.jsxs)("ul",{className:"nav-links",children:[Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/",children:"Home"})}),t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("li",{style:{color:"#ae2012",fontSize:"1rem"},children:["Welcome",Object(b.jsx)("span",{style:{textDecoration:"underline",padding:"0 0 0 5px"},children:c})]}),Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/logout",children:"Log out"})}),Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/potlucks",children:"View Potlucks"})}),Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/add",children:"Create Potluck"})})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/signup",children:"Sign up"})}),Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/login",children:"Log in"})})]})]})})})}));function O(){return Object(b.jsx)("div",{className:"Home",children:Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"this is home"}),Object(b.jsx)("p",{children:"Welcome to your one stop shop for the most amazing potluck of your life."})]})})}var h,m,x,g,f=c(23),k=c.n(f),v=c(6),y=v.a().shape({username:v.c().required(),password:v.c().required()}),S=c(8),N=c(31),P=c(32),L=P.a.form(h||(h=Object(N.a)(["\n  display: flex;\n   flex-direction: column;\n   width: 90%;\n   max-width: 300px;\n   margin: 0 auto;\n\n "]))),_=P.a.label(m||(m=Object(N.a)(["\n\n display: flex;\n   flex-direction: column;\n   align-items: flex-start;\n   margin: 10px 0;\n   font-size: 1.4rem;\n\n\n "]))),C=P.a.input(x||(x=Object(N.a)(["\n width: 100%;\n   margin: 5px 0 0;\n   display: block;\n   border: 2px solid rgba(0, 0, 0, 0.2);\n   border-radius: 5px;\n   padding: 10px;\n   transition: all 0.3s;\n   font-size: 1.4rem;\n   letter-spacing: 0.5px;\n   background-color: white;\n\n   "]))),w=P.a.button(g||(g=Object(N.a)(["\n width: 150px;\n   display: inline-block;\n   padding: 8px 11px;\n   font-size: 1.2rem;\n   text-transform: uppercase;\n   border: 0;\n   border-radius: 5px;\n   letter-spacing: 2px;\n   outline: none;\n   background-color: #4dd0e1;\n   background-image: linear-gradient(to right, #4dd0e1, #1ee7e2);\n   &:disabled {\n    background-image: linear-gradient(to right, red, black);\n   }\n   color: #fff;\n   cursor: pointer;\n   box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);\n "])));function T(e){var t,c=e.name,n=e.formState,a=e.handleChange,o=c.toUpperCase().replace("_"," ");switch(c){case"date":t="date";break;case"password":t="password";break;case"time":t="time";break;default:t="text"}return Object(b.jsxs)(_,{htmlFor:c,children:[o,":",Object(b.jsx)(C,{id:c,name:c,placeholder:c.replace("_"," "),value:n[c],type:t,onChange:a})]})}function F(e){var t=e.error,c=e.errorType;return 0===t.length?null:Object(b.jsx)("div",{className:"errors",children:Object(b.jsxs)("div",{style:{color:"red",fontSize:"1rem"},children:[c,": ",t]})})}var I=c(25),A=c(2),D=function(e,t){var c=Object(n.useState)(e),a=Object(S.a)(c,2),o=a[0],s=a[1],i=Object(n.useState)(e),r=Object(S.a)(i,2),l=r[0],u=r[1],j=Object(n.useState)(!0),d=Object(S.a)(j,2),b=d[0],p=d[1];return Object(n.useEffect)((function(){t.isValid(o).then((function(e){return p(!e)}))}),[o]),[o,l,b,function(e){var c=e.target,n=c.name,a=c.value,i=c.checked,r="checkbox"===c.type?i:a;!function(e,c){v.b(t,e).validate(c).then((function(){return u(Object(A.a)(Object(A.a)({},l),{},Object(I.a)({},e,"")))})).catch((function(t){return u(Object(A.a)(Object(A.a)({},l),{},Object(I.a)({},e,t.errors[0])))}))}(n,r),s(Object(A.a)(Object(A.a)({},o),{},Object(I.a)({},n,r)))}]};function E(e){var t=e.initialState,c=e.schema,n=e.submit,a=D(t,c),o=Object(S.a)(a,4),s=o[0],i=o[1],r=o[2],l=o[3];return Object(b.jsxs)(L,{onSubmit:function(e){e.preventDefault(),n(s)},children:[Object.keys(s).map((function(e){return Object(b.jsx)(T,{name:e,formState:s,handleChange:l})})),Object.keys(i).map((function(e){return Object(b.jsx)(F,{errorType:e,error:i[e]})})),Object(b.jsx)(w,{disabled:r,type:"submit",children:"Submit"})]})}var G={username:"",password:""};function q(){var e=Object(d.g)().push;return Object(b.jsxs)("div",{className:"signupPage",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h1",{style:{textAlign:"center",color:"rgba(163, 22, 11, 1)"},children:"Signup Today To Create A Potluck!"})}),Object(b.jsx)("div",{className:"signup-container",children:Object(b.jsx)(E,{initialState:G,submit:function(t){k.a.post("https://potluck-planner-3.herokuapp.com/api/users/register",t).then((function(t){console.log(t),e("/login")})).catch((function(e){console.log(e)}))},schema:y})})]})}var z=function(){var e=localStorage.getItem("token");return k.a.create({headers:{authorization:e},baseURL:"https://potluck-planner-3.herokuapp.com"})},U="FETCH_START",H="FETCH_SUCCESS",R="FETCH_FAILURE",W="LOG_IN",B=function(){return{type:U}},J="ADD_POTLUCK",V="ADD_GUESTS",K="ADD_FOODS",M=function(e){return{type:W,payload:e}},Q={username:"",password:""},Z=Object(i.b)(null,{loginStatus:M})((function(e){var t=Object(d.g)().push;return Object(b.jsxs)("div",{className:"login",children:[Object(b.jsx)("h1",{style:{textAlign:"center",marginTop:"30px",color:"rgba(163, 22, 11, 1)"},children:"LOG IN"}),Object(b.jsx)(E,{initialState:Q,submit:function(c){z().post("/api/users/login",c).then((function(n){localStorage.setItem("token",n.data.token),localStorage.setItem("username",c.username),e.loginStatus(!0),t("/")})).catch((function(e){console.log(e)}))},schema:y})]})}));var X=Object(i.b)(null,{loginStatus:M})((function(e){var t=Object(d.g)().push;return Object(n.useEffect)((function(){localStorage.removeItem("token"),localStorage.removeItem("username"),e.loginStatus(!1),t("/")}),[]),Object(b.jsx)("div",{})})),Y=v.a().shape({potluck_name:v.c().trim().required("Potluck name is required!").min(3,"Potluck name must be 3 characters long!"),date:v.c().trim().min(4,"Give me a date!"),time:v.c().trim().min(3,"Start time must be 3 characters long!"),location:v.c().trim().min(4,"What is the Location!"),foods:v.c().trim(),guests:v.c().trim()}),$={potluck_name:"",date:"",time:"",location:""};var ee=Object(i.b)(null,{addPotluck:function(e){return{type:J,payload:e}}})((function(e){var t=e.addPotluck,c=Object(d.g)().push;return Object(b.jsxs)("div",{className:"create-potluck",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Create a Potluck!"}),Object(b.jsx)("p",{children:"This is the perfect place to create your potluck event!"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(E,{initialState:$,submit:function(e){var n={potluck_name:e.potluck_name.trim(),date:e.date.trim(),time:e.time.trim(),location:e.location.trim()};t(n),c("/add_guests")},schema:Y}),Object(b.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT5vL4PW-dCxSrzSn0FZJtRurqf6QH8Gh2jag&usqp=CAU",alt:"people around table eating"})]})]})})),te=c(9),ce=v.a().shape({guest:v.c().required()}),ne={guest:""};var ae=Object(i.b)(null,{addGuests:function(e){return{type:V,payload:e}}})((function(e){var t=e.addGuests,c=Object(n.useState)([]),a=Object(S.a)(c,2),o=a[0],i=a[1],r=Object(n.useState)(""),l=Object(S.a)(r,2),u=l[0],j=l[1],p=Object(d.g)().goBack;return Object(b.jsxs)("div",{className:"guests-list-wrapper",children:[Object(b.jsxs)("div",{className:"guests-list",children:[Object(b.jsx)("h1",{children:"Guests List: "}),Object(b.jsx)("ul",{children:o.map((function(e){return Object(b.jsx)("li",{children:e})}))})]}),Object(b.jsx)(E,{initialState:ne,submit:function(e){var t=e.guest;k.a.get("https://potluck-planner-3.herokuapp.com/api/users/".concat(t)).then((function(e){console.log(e.data),e.data.some((function(e){return e===t.trim()}))?(i([].concat(Object(te.a)(o),[t.trim()])),j("")):j("username does not exist")})).catch((function(e){console.log(e)}))},schema:ce}),u,Object(b.jsxs)("div",{className:"next-back",children:[Object(b.jsx)(s.b,{onClick:function(){return t(o)},className:"next",to:"/add_foods",children:"Next"}),Object(b.jsx)("button",{className:"go-back",onClick:p,children:"Go Back"})]})]})})),oe=v.a().shape({food:v.c().required()}),se={food:""};var ie=Object(i.b)((function(e){return{potluck:e.potlucks.potluckPayload}}),{addFoods:function(e){return{type:K,payload:e}},postPotluck:function(e){return function(t){t(B()),z().post("/api/potlucks",e).then((function(e){console.log(e)})).catch((function(e){}))}}})((function(e){var t=e.potluck,c=e.postPotluck,a=e.addFoods,o=Object(n.useState)([]),s=Object(S.a)(o,2),i=s[0],r=s[1],l=Object(d.g)().push;return Object(b.jsxs)("div",{className:"add-foods-wrapper",children:[Object(b.jsxs)("div",{className:"foods-list",children:[Object(b.jsx)("h1",{children:"Foods List:"}),Object(b.jsx)("ul",{children:i.map((function(e){return Object(b.jsx)("li",{children:e})}))})]}),Object(b.jsx)(E,{initialState:se,submit:function(e){var t=e.food;r([].concat(Object(te.a)(i),[t]))},schema:oe}),Object(b.jsx)("button",{className:"submit-potluck",onClick:function(){a(i),c(t),l("/potlucks")},children:"Submit All Info"})]})}));function re(e){var t=e.potluck,c=t.potluck_name,n=t.date,a=t.time,o=t.location,i=t.potluck_id;return Object(b.jsxs)("div",{className:"potluck-card",children:[Object(b.jsxs)("div",{className:"potluck-name",children:["Potluck name: ",Object(b.jsx)("span",{children:c})]}),Object(b.jsxs)("div",{children:["Date: ",n.slice(0,10)]}),Object(b.jsxs)("div",{children:["Time: ",a]}),Object(b.jsxs)("div",{children:["Location: ",o]}),Object(b.jsx)(s.b,{to:"/potlucks/".concat(i),children:"More Details"})]})}var le=Object(i.b)((function(e){return{potlucks:e.potlucks.potlucks}}),{getPotlucks:function(){return function(e){e(B()),z().get("/api/potlucks").then((function(t){var c;e((c=t.data,{type:H,payload:c}))})).catch((function(t){e({type:R,payload:"Cannot fetch potlucks"}),console.log(t)}))}}})((function(e){return Object(n.useEffect)((function(){e.getPotlucks()}),[]),Object(b.jsxs)("div",{className:"potlucks-container",children:[Object(b.jsx)("h1",{children:"Potlucks list"}),Object(b.jsx)("div",{className:"potluck-cards",children:e.potlucks.map((function(e){return Object(b.jsx)(re,{potluck:e},e.id)}))})]})}));function ue(e){var t=e.guest,c=t.username,n=t.food,a=t.accepted,o=t.guest_id,s=localStorage.getItem("username");return Object(b.jsxs)("li",{style:{color:a?"green":"red"},children:[Object(b.jsxs)("h2",{children:["Name: ",c]}),n&&Object(b.jsxs)("h2",{children:["Food: ",n]}),s===c&&Object(b.jsx)("button",{onClick:function(){z().put("/api/guests/".concat(o),Object(A.a)(Object(A.a)({},t),{},{accepted:!a})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:a?"refuse?":"accept?"})]})}function je(){var e=Object(d.h)().potluck_id,t=Object(n.useState)(),c=Object(S.a)(t,2),a=c[0],o=c[1];if(Object(n.useEffect)((function(){z().get("/api/potlucks/".concat(e)).then((function(e){o(e.data)})).catch((function(e){console.log(e)}))}),[e]),!a)return null;var s=a.potluck_name,i=a.date,r=a.location,l=a.time,u=a.foods,j=a.guests;return Object(b.jsx)("div",{className:"potluck-details",children:Object(b.jsxs)("div",{className:"details-container",children:[Object(b.jsx)("h1",{children:s}),Object(b.jsxs)("div",{children:["Date: ",i.slice(0,10)]}),Object(b.jsxs)("div",{children:["Time: ",l]}),Object(b.jsxs)("div",{children:["Location: ",r]}),Object(b.jsx)("div",{children:"Foods: "}),Object(b.jsx)("ul",{children:null===u||void 0===u?void 0:u.map((function(e){return Object(b.jsx)("li",{children:e})}))}),Object(b.jsx)("div",{children:"Guests: "}),Object(b.jsx)("ul",{children:null===j||void 0===j?void 0:j.map((function(e){return Object(b.jsx)(ue,{guest:e})}))})]})})}var de=c(95),be=["component"],pe=function(e){var t=e.component,c=Object(de.a)(e,be),n=localStorage.getItem("token");return Object(b.jsx)(d.b,Object(A.a)(Object(A.a)({},c),{},{render:function(e){return n?Object(b.jsx)(t,Object(A.a)({},e)):Object(b.jsx)(d.a,{to:"/login"})}}))};c(221);var Oe=Object(i.b)((function(e){return{isLogin:e.login.isLogin}}),{loginStatus:M})((function(e){return Object(n.useEffect)((function(){localStorage.getItem("token")?e.loginStatus(!0):e.loginStatus(!1)}),[]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(p,{}),Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{path:"/login",children:Object(b.jsx)(Z,{})}),Object(b.jsx)(d.b,{path:"/logout",children:Object(b.jsx)(X,{})}),Object(b.jsx)(d.b,{path:"/signup",children:Object(b.jsx)(q,{})}),Object(b.jsx)(pe,{path:"/add",component:ee}),Object(b.jsx)(pe,{path:"/add_guests",component:ae}),Object(b.jsx)(pe,{path:"/add_foods",component:ie}),Object(b.jsx)(pe,{path:"/potlucks/:potluck_id",component:je}),Object(b.jsx)(d.b,{path:"/potlucks",children:Object(b.jsx)(le,{})}),Object(b.jsx)(d.b,{path:"/",children:Object(b.jsx)(O,{})})]})]})})),he={isLogin:!1},me={isLoading:!1,potlucks:[],errors:"",potluckPayload:{}},xe=Object(r.b)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;return t.type===W?Object(A.a)(Object(A.a)({},e),{},{isLogin:t.payload}):e},potlucks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(A.a)(Object(A.a)({},e),{},{potluckPayload:Object(A.a)(Object(A.a)({},e.potluckPayload),t.payload)});case V:return Object(A.a)(Object(A.a)({},e),{},{potluckPayload:Object(A.a)(Object(A.a)({},e.potluckPayload),{},{guests:t.payload})});case K:return Object(A.a)(Object(A.a)({},e),{},{potluckPayload:Object(A.a)(Object(A.a)({},e.potluckPayload),{},{foods:t.payload})});case U:return Object(A.a)(Object(A.a)({},e),{},{isLoading:!0,potlucks:[],errors:""});case H:return Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,potlucks:t.payload,errors:""});case R:return Object(A.a)(Object(A.a)({},e),{},{isLoading:!1,potlucks:[],errors:t.payload});default:return e}}}),ge=(c(222),Object(r.c)(xe,Object(r.a)(l.a,j.a)));o.a.render(Object(b.jsx)(i.a,{store:ge,children:Object(b.jsx)(s.a,{children:Object(b.jsx)(Oe,{})})}),document.getElementById("root"))}},[[223,1,2]]]);
//# sourceMappingURL=main.a97089b9.chunk.js.map